<div style="width: 100%; height:  calc(100vh - 100px); margin: -30px 0px 0px -10px;">
  <gridster [options]='options' class="gridster-bg-view-mode">
      <div *ngFor="let item of dashboard.gridItems; index as i">
          <gridster-item [item]="item.gridsterItem">
            <app-widget-renderer *ngIf="models[i] && !models[i].errorOccurred" 
                [app]="models[i].app" 
                [widget]="models[i].widget"
                [format]="rendererFormat"
                (greenBtnClick)="maximizeWidget(i)"
                (yellowBtnClick)="popout(i)"
                (redBtnClick)="confirmWidgetDelete(i)"
                (stateChanged)="stateChanged($event, i)"
            ></app-widget-renderer>
          </gridster-item>
      </div>
  </gridster>
</div>
<!--class="fit" style="position: absolute; z-index: 2; width: calc(100vw - 250px); height:  calc(100vh - 100px); margin: -30px 0px 0px -20px; padding: 25px;"-->
<app-widget-renderer *ngIf="maximize" style="position: absolute; top: 100px; height: calc(100vh - 100px); width: calc(100vw - 320px); margin: -45px 0px 0px -22px; padding: 25px; z-index: 2;"
    [app]="models[maximizeIndex].app"
    [widget]="models[maximizeIndex].widget"
    [format]="maximizeRendererFormat"
    (yellowBtnClick)="minimizeWidget()"
    (stateChanged)="stateChanged($event, maximizeIndex)"
></app-widget-renderer>

<app-modal #confirmWidgetDeletionModal
    [title]="'Delete Widget from Dashboard'"
    [message]="'Are you sure you want to delete this widget?'"
    [iconClassList]="'fa fa-4x fa-trash text-danger margin-bottom'"
    [buttons]="[{title: 'Confirm', classList: 'btn btn-danger'}]" 
    (btnClicked)="deleteWidget($event)"
></app-modal>