<mat-grid-list cols="1" rowHeight="65px" class="mb-1">
  <mat-grid-tile>
    <h1 *ngIf="user">Review {{this.user.firstName}} {{this.user.lastName}}</h1>
  </mat-grid-tile>
</mat-grid-list>
<mat-tab-group 
  class="content-body" 
  [selectedIndex]="selectedTabIndex"
  (selectedIndexChange)="setForm(0)"
>
  <ng-container *ngIf="userRegistration">
    <mat-tab *ngFor="let step of userRegistration.steps" [label]="step.title">
        <div class="content-body-interior">
          <h2>{{step.title}}</h2>
          <p>{{step.description}}</p>
  
          <mat-card class="float-right ml-4" *ngIf="step.forms.length > 1">
            <h3 class="ml-1 mt-1 mb-0">Form Progress</h3>
            <mat-accordion>
              <mat-expansion-panel 
                *ngFor="let form of step.forms; index as i" 
                [expanded]="i === formIndex && form.approvals.length !== 0"
                [disabled]="form.approvals.length === 0" 
                (click)="setForm(i)"
              >
                <mat-expansion-panel-header style="color: rgba(44, 44, 44, 0.87);">
                  <mat-panel-title>
                    <mat-icon mat-list-icon class="avatar color-white" [ngClass]="getBgColor(form.status)" >{{this.getIcon(form.status)}}</mat-icon>
                    <p mat-line style="float: right;">{{form.title}}</p>
                  </mat-panel-title>
                </mat-expansion-panel-header>

                <div *ngIf="form.approvals">
                  <div *ngFor="let approval of form.approvals" class="check-item-row ml-2 mr-2">
                      <span class="float-left text-center round mr-1" [ngClass]="getBgColor(approval.status)" style="width:21px;height:21px;" matTooltip="Completed">
                        <mat-icon class="color-white sm-icon">check</mat-icon>
                      </span>
                      {{approval.title}}
                      <span class="color-green float-right mr-08" *ngIf="approval.dateCompleted">Completed {{approval.dateCompleted | utcDate: 'yyyy/MM/dd'}}</span>
                    </div>
                </div>

              </mat-expansion-panel>
            </mat-accordion>
          </mat-card>

          <app-dynamic-form 
            [regId]="userRegistration.docId"
            [data]="step.forms[formIndex]"
            [bindingRegistry]="userRegistration.bindingRegistry"
            [displayApprovals]="true"
            (formSubmitted)="formSubmitted.emit($event)"
          ></app-dynamic-form>
        </div>
      </mat-tab>
  </ng-container>
  
</mat-tab-group>

<!--
<mat-grid-list cols="1" rowHeight="65px" class="mb-1">
  <mat-grid-tile>
    <h1>Review {{ details.username }}</h1>
  </mat-grid-tile>
</mat-grid-list>

<mat-tab-group class="content-body" [selectedIndex]="selectedTabIndex">
  <mat-tab label="Basic Information">
    <div class="content-body interior">
      <h2>Basic Information</h2>
      <form>
        <div class="half-width display-inline-block vertical-top" style="max-width:570px">
          <mat-form-field class="full-width mb-1">
            <input matInput placeholder="Full Name">
            <mat-hint>Last Name, First Name Middle Initial</mat-hint>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Email">
            <mat-icon matSuffix>email</mat-icon>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Phone">
            <mat-icon matSuffix>phone</mat-icon>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Mailing Address">
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="City">
          </mat-form-field>
          <div class="clear-both full-width"></div>
          <div class="fourth-width display-inline-block vertical-top mr-4">
            <mat-form-field class="full-width">
              <mat-label>State</mat-label>
              <mat-select>
                <mat-option>Alabama</mat-option>
                <mat-option>Alaska</mat-option>
                <mat-option>Arizona</mat-option>
                <mat-option>Arkansas</mat-option>
                <mat-option>California</mat-option>
                <mat-option>Colorado</mat-option>
                <mat-option>Connecticut</mat-option>
                <mat-option>Delaware</mat-option>
                <mat-option>Florida</mat-option>
                <mat-option>Georgia</mat-option>
                <mat-option>Hawaii</mat-option>
                <mat-option>Idaho</mat-option>
                <mat-option>Illinois</mat-option>
                <mat-option>Indiana</mat-option>
                <mat-option>Iowa</mat-option>
                <mat-option>Kansas</mat-option>
                <mat-option>Kentucky</mat-option>
                <mat-option>Louisiana</mat-option>
                <mat-option>Maine</mat-option>
                <mat-option>Maryland</mat-option>
                <mat-option>Massachusetts</mat-option>
                <mat-option>Michigan</mat-option>
                <mat-option>Minnesota</mat-option>
                <mat-option>Mississippi</mat-option>
                <mat-option>Missouri</mat-option>
                <mat-option>Montana</mat-option>
                <mat-option>Nebraska</mat-option>
                <mat-option>Nevada</mat-option>
                <mat-option>New Hampshire</mat-option>
                <mat-option>New Jersey</mat-option>
                <mat-option>New Mexico</mat-option>
                <mat-option>New York</mat-option>
                <mat-option>North Carolina</mat-option>
                <mat-option>North Dakota</mat-option>
                <mat-option>Ohio</mat-option>
                <mat-option>Oklahoma</mat-option>
                <mat-option>Oregon</mat-option>
                <mat-option>Pennsylvania</mat-option>
                <mat-option>Rhode Island</mat-option>
                <mat-option>South Carolina</mat-option>
                <mat-option>South Dakota</mat-option>
                <mat-option>Tennessee</mat-option>
                <mat-option>Texas</mat-option>
                <mat-option>Utah</mat-option>
                <mat-option>Vermont</mat-option>
                <mat-option>Virginia</mat-option>
                <mat-option>Washington</mat-option>
                <mat-option>West Virginia</mat-option>
                <mat-option>Wisconsin</mat-option>
                <mat-option>Wyoming</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="fifth-width display-inline-block vertical-top">
            <mat-form-field class="full-width">
              <input matInput placeholder="ZIP Code">
            </mat-form-field>
          </div>

          <div class="label my-1">Citizenship</div>
          <mat-button-toggle-group>
            <mat-button-toggle value="us">US</mat-button-toggle>
            <mat-button-toggle value="fn">FN</mat-button-toggle>
            <mat-button-toggle value="other">Other</mat-button-toggle>
          </mat-button-toggle-group>
        </div>

        <div class="half-width display-inline-block vertical-top">
          <mat-form-field class="full-width">
            <input matInput placeholder="Organization">
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Symbol/Department">
          </mat-form-field>

          <div class="label pb-1">Designation</div>
          <mat-button-toggle-group class="mb-2">
            <mat-button-toggle value="military">Military</mat-button-toggle>
            <mat-button-toggle value="civilian">Civilian</mat-button-toggle>
            <mat-button-toggle value="contractor">Contractor</mat-button-toggle>
          </mat-button-toggle-group>

          <mat-form-field class="full-width mb-1">
            <input matInput placeholder="Position">
            <mat-hint>Job Title, Grade, Rank</mat-hint>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Division">
            <mat-hint>Directorate, Division, Branch</mat-hint>
          </mat-form-field>
        </div>
      </form>
    </div>
  </mat-tab>
  
  <mat-tab label="Required Forms">
    <div class="content-body interior">
      <h2>Required Forms</h2>
      <app-sign (save)="saveSign($event)"></app-sign>
      <img [src]="signImg" alt="sign" *ngIf="signImg" />
    </div>
  </mat-tab> 

  <mat-tab label="Registration Overview">
    <div class="content-body interior">
      <h2>Registration Overview</h2>
    </div>
  </mat-tab>
</mat-tab-group>
-->
