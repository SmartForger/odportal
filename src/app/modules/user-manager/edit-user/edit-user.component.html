<app-card-title [cardTitle]="'Edit ' + user?.username"></app-card-title>
<div class="btn-group">
    <div class="page-title-bg">
        <div class="icon-float-right" *ngIf="canUpdate">
            <div class="icon-float-right">
                <div class="btn-group">
                    <div data-toggle="dropdown">
                        <button class="icon-primary-color icon-options"></button>
                    </div>
                    <ul class="dropdown-menu">
                        <li *ngIf="!user?.enabled && canUpdate">
                        <li *ngIf="!user?.enabled">
                            <a (click)="enableUser()">
                                <span class="icon-dropdown-li-settings icon-success-color icon-enabled"></span>
                                <span class="dropdown-item">Enable User</span>
                            </a>
                        </li>
                        <li *ngIf="user?.enabled && canUpdate">
                        <li *ngIf="user?.enabled">
                            <a (click)="disableUser()">
                                <span class="icon-dropdown-li-settings icon-disabled"></span>
                                <span class="dropdown-item">Disable User</span>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li *ngIf="canDelete">
                            <a (click)="deleteUser()">
                                <span class="icon-dropdown-li-settings icon-trash"></span>
                                <span class="dropdown-item">Delete User</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


<mat-tab-group class="content-body">

    <mat-tab label="Basic Information">
        <app-edit-basic-info [allowSave]="canUpdate"></app-edit-basic-info>
    </mat-tab>

    <mat-tab label="Password">
        <app-edit-password *ngIf="user" [activeUserId]="user.id"></app-edit-password>
    </mat-tab>

    <mat-tab label="Custom Attributes">
        <app-edit-attributes [canUpdate]="canUpdate" [user]="user"></app-edit-attributes>
    </mat-tab>

    <mat-tab label="Role Mappings">
        <app-edit-roles [canUpdate]="canUpdate" *ngIf="user" [activeUserId]="user.id"></app-edit-roles>
    </mat-tab>

    <mat-tab label="MicroApps">
        <app-list-apps *ngIf="user" [activeUserId]="user.id"></app-list-apps>
    </mat-tab>

</mat-tab-group>