<mat-grid-list cols="1" rowHeight="75px" class="mb-1">
  <mat-grid-tile>
    <h1 class="display-inline-block">
      Edit {{user?.username}}
    </h1>

    <button mat-mini-fab color="secondary" [matMenuTriggerFor]="menu2" *ngIf="canUpdate" class="ml-2">
        <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #menu2="matMenu">
        <span *ngIf="!user?.enabled && canUpdate">
            <button mat-menu-item (click)="enableButtonClicked(true)" *ngIf="!user?.enabled">
              <mat-icon>person</mat-icon>
              <span>Enable User</span>
            </button>
        </span>

        <span *ngIf="user?.enabled && canUpdate">
            <button mat-menu-item (click)="enableButtonClicked(false)" *ngIf="user?.enabled">
              <mat-icon>person_outline</mat-icon>
              <span>Disable User</span>
            </button>
        </span>

        <button mat-menu-item (click)="removeButtonClicked()" *ngIf="canDelete">
          <mat-icon>delete</mat-icon>
          <span>Delete User</span>
        </button>
    </mat-menu>

    </mat-grid-tile>

</mat-grid-list>

<mat-tab-group class="content-body">

    <mat-tab label="Basic Information">
        <app-edit-basic-info [allowSave]="canUpdate"></app-edit-basic-info>
    </mat-tab>

    <mat-tab label="Password">
        <app-edit-password *ngIf="user" [activeUserId]="user.id"></app-edit-password>
    </mat-tab>

    <mat-tab label="Custom Attributes">
        <app-edit-attributes [canUpdate]="canUpdate" [user]="user"></app-edit-attributes>
    </mat-tab>

    <mat-tab label="Role Mappings">
        <app-edit-roles [canUpdate]="canUpdate" *ngIf="user" [activeUserId]="user.id"></app-edit-roles>
    </mat-tab>

    <mat-tab label="MicroApps">
        <app-list-apps *ngIf="user" [activeUserId]="user.id"></app-list-apps>
    </mat-tab>

</mat-tab-group>



<!-- 
<app-modal #deleteModal [title]="'Delete User'" [message]="'Are you sure you want to delete this user?'" [iconClassList]="'fa fa-4x fa-trash text-danger margin-bottom'"
[buttons]="[{title: 'Confirm', classList: 'btn btn-danger'}]" (btnClicked)="deleteConfirmed($event)">
</app-modal>

<app-modal #enableModal [title]="'Enable User'" [message]="'Are you sure you want to enable this user and permit logins?'"
[iconClassList]="'fa-4x icon-success-color icon-enabled-no-click margin-bottom'" [buttons]="[{title: 'Confirm', classList: 'btn btn-success'}]"
(btnClicked)="enableConfirmed($event, true)">
</app-modal>

<app-modal #disableModal [title]="'Disable User'" [message]="'Are you sure you want to disable this user and revoke log-in privileges?'"
[iconClassList]="'fa-4x icon-warning-color icon-disabled-no-click margin-bottom'" [buttons]="[{title: 'Confirm', classList: 'btn btn-warning'}]"
(btnClicked)="enableConfirmed($event, false)">
</app-modal> -->
