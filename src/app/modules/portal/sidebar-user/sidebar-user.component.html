<div *ngIf="!profileError && profile">
	<button mat-button [matMenuTriggerFor]="menuUser" class="p-0 m-0 parentButton" [matTooltip]="roleTooltip">
		<ngx-avatar
			*ngIf="!isOpenDashAdmin"
			[name]="profile.firstName + ' ' + profile.lastName"
			class="userIcon initial"
			[style]="avatarStyle"
			size="35"
			bgColor="#0063BF"
		>
		</ngx-avatar>
		<div class="userIcon image round" *ngIf="isOpenDashAdmin">
			<img src="assets/images/ico-crown.png" class="avatar-image" style="margin-top:-7px;"/>
		</div>
		<span class="nameLabel">{{profile.firstName}} {{profile.lastName}}</span>
	</button>

	<mat-menu #menuUser="matMenu">
		<div class="px-2 py-1">
			<strong>{{profile.firstName}} {{profile.lastName}}</strong><br>{{profile.username}}
		</div>
		<mat-divider></mat-divider>
        <a routerLink="/portal/profile">
		    <button mat-menu-item matTooltip="Edit Account at Keycloak">
				<mat-icon mat-list-icon>perm_identity</mat-icon> My Account
            </button>
        </a>
		<button mat-menu-item matTooltip="Logout" (click)="logout()">
			<mat-icon mat-list-icon>logout</mat-icon> Logout
		</button>
	</mat-menu>
</div>

<div *ngIf="profileError">
    <mat-icon mat-mini-fab color="red">account_circle</mat-icon>
    <h4 mat-line color="red">Error Loading Profile</h4>
</div>