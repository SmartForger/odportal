<div class="page-title-bg">
    <div class="icon-float-right" tooltip="Create MicroApp" tooltip-position="top" (click)="showCreateModal()" *ngIf="canCreate">
        <span class="icon-title-right-settings icon-success-color icon-add"></span>
    </div>
    <app-card-title [cardTitle]="'Current MicroApps'" [cardSubtitle]="'The following is a complete list of native and installed MicroApps in OpenDash 360.'"></app-card-title>
</div>

<div class="row">
    <div class="col-lg-12">
        <ul class="nav nav-pills horizontal-opendash">
            <li class="active">
                <a href="#activeMicroApps" data-toggle="tab">Active MicroApps</a>
            </li>
            <li>
                <a href="#pendingMicroApps" data-toggle="tab">Pending MicroApps</a>
            </li>
        </ul>
        <div class="tab-content tab-content-rmf clearfix">
            <div id="activeMicroApps" class="tab-pane active in">
                <app-list-apps-active [apps]="approvedApps"></app-list-apps-active>
            </div>
            <div id="pendingMicroApps" class="tab-pane">
                <app-list-apps-pending [apps]="pendingApps"></app-list-apps-pending>
            </div>
        </div>
    </div>
</div>


<div class="modalDialog" [ngClass]="{'display-none': !showCreate}">
    <div class="modal-white-bg">
        <div class="rmf-modal">
            <div class="rmf-modal-header">
                <button type="button" class="btnCloseSlider" (click)="showCreate = false">
                    <span class="close-large modal-close">&times;</span>
                </button>
                <div class="rmf-modal-title">Create a MicroApp</div>
            </div>
            <div class="rmf-modal-body">
                <div class="row">
                    <div class="col-lg-12">

                        <app-card-title [cardTitle]="'MicroApp Deployment'" [cardSubtitle]="'Upload your app bundle to deploy your microapp.'">
                        </app-card-title>

                        <app-create-app-form (fileChosen)="uploadBundle($event)"></app-create-app-form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>