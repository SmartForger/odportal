
<div class="full-height">
    <div *ngIf="!minimized" [class]="'card card-box-shadow margin-bottom ' + this.format.cardClass">
        <div class="widget-head">
            <div *ngIf="this.widget" class="widget-title">{{ widget.widgetTitle }}</div>
            <div class="widget-controls">
                <button mat-icon-button class='optionsButton' [disabled]="!this.widget" [matMenuTriggerFor]="widgetControlsMenu">
                    <mat-icon>more_vert</mat-icon>
                </button>

                <mat-menu #widgetControlsMenu>
                    <button *ngFor='let btn of format.buttons' mat-menu-item [disabled]="!this.widget || btn.disabled" (click)="handleBtnClick(btn, $event)" style="height: 32px; line-height: 1;">
                        <mat-icon *ngIf="btn.icon" class="reset-icon">{{ btn.icon }}</mat-icon>
                        <span>{{ btn.title }}</span>
                    </button>

                    <button mat-menu-item (click)="feedback()" [disabled]="!this.widget" style="height: 32px; line-height: 1;">
                        <mat-icon class="reset-icon">feedback</mat-icon>
                        <span>Rate Widget</span>
                    </button>
                </mat-menu>
            </div>
        </div>
        <div class="widget-float-body">
            <div [class]="'widget-float-body ' + this.format.widgetBodyClass">
                <div class="full-height" [id]="containerId" (stateEvent)="temp($event)"></div>
            </div>
        </div>
    </div>

    <div *ngIf="minimized" class="widget-head minimized cursor-pointer min-width-150" (click)="handleBtnClick({title: 'titleBarClick'}, $event)">
        <div class="widget-title pr-1 cursor-pointer">{{ widget.widgetTitle }}</div>
    </div>
</div>