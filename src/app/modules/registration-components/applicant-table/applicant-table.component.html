
<table class="full-width table" mat-table [dataSource]="users">
  <!-- Online Status Column -->
  <ng-container matColumnDef="online">
    <th mat-header-cell *matHeaderCellDef>&nbsp;</th>
    <td mat-cell class="online-status-col" width="50" *matCellDef="let user" class="pr-1">
      <mat-icon class="avatar">person</mat-icon>
    </td>
  </ng-container>

  <!-- User Column -->
  <ng-container matColumnDef="username">
    <th mat-header-cell *matHeaderCellDef>User</th>
    <td mat-cell *matCellDef="let user" (click)="userSelected.emit(user)">
      <a href="#" matTooltip="Review {{user.userProfile.username}}">{{ user.userProfile.username }}</a>
    </td>
  </ng-container>

  <!-- Full Name Column -->
  <ng-container matColumnDef="fullname">
    <th mat-header-cell *matHeaderCellDef>Full Name</th>
    <td mat-cell *matCellDef="let user">
      <span *ngIf="user.userProfile.fullname">{{ user.userProfile.fullname }}</span>
      <span *ngIf="!user.userProfile.fullname" class="opacity-half"><em>Not Provided</em></span>
    </td>
  </ng-container>

  <!-- Email Column -->
  <ng-container matColumnDef="email">
    <th mat-header-cell *matHeaderCellDef>Email</th>
    <td mat-cell *matCellDef="let user">{{ user.userProfile.email }}</td>
  </ng-container>

  <!-- Role Column -->
  <ng-container matColumnDef="role">
    <th mat-header-cell *matHeaderCellDef>Role</th>
    <td mat-cell *matCellDef="let user">{{ user.userProfile.role }}</td>
  </ng-container>

  <!-- Created Date Column -->
  <ng-container matColumnDef="created">
    <th mat-header-cell *matHeaderCellDef>Submitted</th>
    <td mat-cell *matCellDef="let user">{{ user.userProfile.created | date: 'short' }}</td>
  </ng-container>

  <!-- Action Column -->
  <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let user" class="text-right">
      <button mat-icon-button (click)="userSelected.emit(user)" class="opacity-half">
        <mat-icon matTooltip="Review {{user.userProfile.username}}">visibility</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
</table>