
<mat-card class="float-right ml-4" *ngIf="forms.length > 1">
  <h3 class="ml-1 mt-1 mb-0">Form Progress</h3>
  <mat-accordion>
    <mat-expansion-panel 
      *ngFor="let form of forms; index as i" 
      [expanded]="i === formIndex && form.approvals.length !== 0"
      [disabled]="form.approvals.length === 0" 
      (click)="formSelected.emit(i)"
    >
      <mat-expansion-panel-header style="color: rgba(44, 44, 44, 0.87);">
        <mat-panel-title>
          <mat-icon mat-list-icon class="avatar color-white" [ngClass]="getBgColor(form.status)" >{{this.getIcon(form.status)}}</mat-icon>
          <p mat-line style="float: right;">{{form.title}}</p>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div *ngIf="form.approvals">
        <div *ngFor="let approval of form.approvals" class="check-item-row ml-2 mr-2">
            <span class="float-left text-center round mr-1" [ngClass]="getBgColor(approval.status)" style="width:21px;height:21px;" matTooltip="Completed">
              <mat-icon class="color-white sm-icon">check</mat-icon>
            </span>
            {{approval.title}}
            <span class="color-green float-right mr-08" *ngIf="approval.dateCompleted">Completed {{approval.dateCompleted | utcDate: 'yyyy/MM/dd'}}</span>
          </div>
      </div>

    </mat-expansion-panel>
  </mat-accordion>
</mat-card>