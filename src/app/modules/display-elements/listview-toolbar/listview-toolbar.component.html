<div class="toolbar" [class.focused]="focused" #toolbarRoot>
    <div class="search-container">
        <mat-icon class="mr-1 opacity-half">search</mat-icon>
        <input
            class="search-field"
            [disabled]='disabled'
            [placeholder]="searchPlaceholder"
            [(ngModel)]="searchInput"
            (keyup.enter)="search.emit(searchInput)"
            (focus)="focused = true"
        />
    </div>
    <button
        mat-icon-button
        class="clear-button ml-1 opacity-half"
        (click)="clear()"
        [hidden]="!focused"
    >
        <mat-icon>close</mat-icon>
    </button>
    <div *ngIf='!disabled' class="actions" [hidden]="focused">
        <button
            mat-icon-button
            class="ml-1 opacity-half"
            (click)="refresh.emit()"
            *ngIf="showRefreshButton"
        >
            <mat-icon>refresh</mat-icon>
        </button>
        <div *ngIf="menuOptions.length > 0">
            <button class="opacity-half" [matMenuTriggerFor]="menu" mat-icon-button>
                <mat-icon>filter_list</mat-icon>
            </button>
            <mat-menu #menu="matMenu" xPosition="before">
                <ng-container *ngFor="let option of menuOptions">
                    <button mat-menu-item (click)="filterList(option.value)" [ngClass]="{'option-selected': option.value === selectedRole}">
                        {{ option.display }}
                    </button>
                </ng-container>
            </mat-menu>
        </div>
        <button
            mat-raised-button
            color="primary"
            class="ml-1"
            [hidden]="focused"
            (click)="create.emit()"
            *ngIf="showCreateButton"
        >
            {{ createButtonTitle }}
        </button>
        <ng-content></ng-content>
    </div>
    <div *ngIf='disabled'>
        <button mat-raised-button class="ml-1" color="warn" [hidden]="focused" (click)='onLoadClick()'>
            <mat-icon>report_problem</mat-icon>
            Load All
        </button>
    </div>
</div>
