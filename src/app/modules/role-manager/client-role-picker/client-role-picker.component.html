<h2>Client Composites</h2>

<mat-list>
	<mat-list-item>
		<app-bind-select-input [label]="'Choose a Client'" [dropdownOptions]="clients" [(value)]="clientId" (valueChange)="clientChanged($event)"></app-bind-select-input>
	</mat-list-item>

	<div class="roles">
		<button
			mat-stroked-button 
			[ngClass]="{'role-btn': true, 'assigned': role.active, 'manageable': canManage}" 
			(click)='toggleAssignation(role)'
			*ngFor="let role of assignedRoles"
		>
			<span class='role-name'>{{ role.name }}</span>
			<mat-icon *ngIf='role.active' class='check-icon'>check_circle</mat-icon>
			<mat-icon *ngIf='role.active' class='cancel-icon'>cancel</mat-icon>
			<mat-icon *ngIf='!role.active' class='add-icon'>add_circle</mat-icon>
		</button>
		<button
			mat-stroked-button 
			[ngClass]="{'role-btn': true, 'assigned': role.active, 'manageable': canManage}" 
			(click)='toggleAssignation(role)'
			*ngFor="let role of unassignedRoles"
		>
			<span class='role-name'>{{ role.name }}</span>
			<mat-icon *ngIf='role.active' class='check-icon'>check_circle</mat-icon>
			<mat-icon *ngIf='role.active' class='cancel-icon'>cancel</mat-icon>
			<mat-icon *ngIf='!role.active' class='add-icon'>add_circle</mat-icon>
		</button>
	</div>

	<mat-list-item>
		<button mat-flat-button color="primary" (click)="update()" *ngIf="allowSave">Save</button>
	</mat-list-item>
</mat-list>